[deploy-smoke-compose] started 2026-02-10T17:12:48Z
[project] titan_smoke
[step] CHROMADB_HOST_PORT=18000 docker compose -p titan_smoke -f deploy/compose.yaml --profile api down -v --remove-orphans
time="2026-02-10T12:12:48-05:00" level=warning msg="a network with name titan-network exists but was not created for project \"titan_smoke\".\nSet `external: true` to use an existing network"
 Volume titan_smoke_chroma-data Creating 
 Volume titan_smoke_chroma-data Created 
 Volume titan_smoke_redis-data Creating 
 Volume titan_smoke_redis-data Created 
 Volume titan_smoke_postgres-data Creating 
 Volume titan_smoke_postgres-data Created 
 Container titan-redis Creating 
 Container titan-chromadb Creating 
 Container titan-postgres Creating 
 Container titan-chromadb Created 
 Container titan-redis Created 
 Container titan-postgres Created 
 Container titan-api Creating 
 Container titan-api Created 
 Container titan-postgres Starting 
 Container titan-redis Starting 
 Container titan-chromadb Starting 
 Container titan-redis Started 
 Container titan-postgres Started 
 Container titan-postgres Waiting 
 Container titan-redis Waiting 
 Container titan-chromadb Started 
 Container titan-redis Healthy 
 Container titan-postgres Healthy 
 Container titan-api Starting 
 Container titan-api Started 
[step] CHROMADB_HOST_PORT=18000 docker compose -p titan_smoke -f deploy/compose.yaml --profile api ps
NAME             IMAGE                    COMMAND                  SERVICE     CREATED          STATUS                                     PORTS
titan-api        titan_smoke-titan-api    "python -m uvicorn d…"   titan-api   11 seconds ago   Up Less than a second (health: starting)   0.0.0.0:8080->8080/tcp, [::]:8080->8080/tcp, 0.0.0.0:9100->9100/tcp, [::]:9100->9100/tcp
titan-chromadb   chromadb/chroma:latest   "dumb-init -- chroma…"   chromadb    11 seconds ago   Up 10 seconds (health: starting)           0.0.0.0:18000->8000/tcp, [::]:18000->8000/tcp
titan-postgres   postgres:16-alpine       "docker-entrypoint.s…"   postgres    11 seconds ago   Up 10 seconds (healthy)                    0.0.0.0:5432->5432/tcp, [::]:5432->5432/tcp
titan-redis      redis:7-alpine           "docker-entrypoint.s…"   redis       11 seconds ago   Up 10 seconds (healthy)                    0.0.0.0:6379->6379/tcp, [::]:6379->6379/tcp
[step] waiting for API on :8080
[wait] api_status_ready at attempt=2
[step] curl -sf http://localhost:8080/api/status
{"status":"healthy","active_agents":0,"current_topology":"swarm","timestamp":"2026-02-10T17:13:01.480147"}
[step] curl -sf http://localhost:8080/ > /dev/null
ok
[step] waiting for /api/metrics on :8080
[wait] metrics_ready at attempt=1
[info] metrics_sample_path=.ci/deploy_smoke_metrics_sample.txt
[info] metrics_sample_lines=325
[deploy-smoke-compose] status=GO
[step] CHROMADB_HOST_PORT=18000 docker compose -p titan_smoke -f deploy/compose.yaml --profile api down -v --remove-orphans
 Container titan-chromadb Stopping 
 Container titan-api Stopping 
 Container titan-chromadb Stopped 
 Container titan-chromadb Removing 
 Container titan-chromadb Removed 
 Container titan-api Stopped 
 Container titan-api Removing 
 Container titan-api Removed 
 Container titan-redis Stopping 
 Container titan-postgres Stopping 
 Container titan-postgres Stopped 
 Container titan-postgres Removing 
 Container titan-postgres Removed 
 Container titan-redis Stopped 
 Container titan-redis Removing 
 Container titan-redis Removed 
 Volume titan_smoke_postgres-data Removing 
 Volume titan_smoke_redis-data Removing 
 Volume titan_smoke_chroma-data Removing 
 Volume titan_smoke_postgres-data Removed 
 Volume titan_smoke_redis-data Removed 
 Volume titan_smoke_chroma-data Removed 
[deploy-smoke-compose] teardown_done
[deploy-smoke-compose] exit_code=0
